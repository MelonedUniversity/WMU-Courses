# Calculus of Constructions

构造演算

## 概要

构造演算是融合了项到项($λ\scriptsize{→}$)、项到类型($λ\small{Π}$)、类型到类型($λ\underline{ω}$)、类型到项($λ\small{2}$)的高阶有类型 $λ$ 演算。CoC为 $λ$ 演算带来了十分强大的类型系统，这极大地增强了语言的描述能力。

## 回顾

$λ\scriptsize{→}$ 引入了一个简单的类型系统，使得 $λ$ 演算被正则化了：

自然数：$n:=λf:α→α.\ λx:α.\ f^{○n}\ x$  
布尔值：$true\ \ :=λa:α.\ λb:α.\ a$  

$λ\small{Π}$ 允许由项构造类型，使得依赖类型成为可能：$λn:nat.\ λf:α→α.\ λx:α.\ f^{○n}\ x\ :\ Πn:nat.\ B(n)$ $^{*1}$

$λ\underline{ω}$ 引入了类型构造器，我们可以由类型构造类型了：$Λα:*.\ β\;:\;*→*$

$λ\small{2}$ 形式化了参数多态，于是有了泛用型函数：$Λα.\ λx:α.\ x\ :\ ∀α.\ α→α$（Identity）

## 组合

我们将 $λ\small{Π}$ 与 $λ\underline{ω}$ 组合得到 $λ\small{Π}\underline{ω}$，这是允许类型构造器的依赖类型系统：  
$Λα:*.\ λn:nat.\ λf:α→α.\ λx:α.\ f^{○n}\ x\ :\ Πn:nat.\ B(n)$

我们将 $λ\small{Π}$ 与 $λ\small{2}$ 组合得到 $λ\small{Π2}$，这是允许参数多态的依赖类型系统：  
$Λα.\ λn:nat.\ λf:α→α.\ λx:α.\ f^{○n}\ x\ :\ ∀α.\ Πn:nat.\ B(n)$

我们将 $λ\underline{ω}$ 与 $λ\small{2}$  组合得到 $λω$，它同时具有类型构造器和参数多态：  
$Λα.\ Λβ:*→*.\ λx:α.\ λg:α→β\,α.\ g\,x\ :\ ∀α.\ β\,α$  
（举个例子，$g$ 可为 $Λγ:*.\ λz:γ.\ z\ :γ→γ\ :\;*→*$，即 $β$ 是 $Λγ:*.\ γ$）

$而λ\small{Π}\underline{ω}$、$λ\small{Π2}$与$λω$的组合便是构造演算，例如：

$Λα.\ Λβ:*→*.\ λn:nat.\ λg:α→β\,α.\ λf:α→α.\ λx:α.\ f^{○n}\ (g\,x)\ :\ ∀α.\ Πn:nat.\ B(n)$

## In λ Cube

在λ立方体中，CoC即为 $λ\small{Πω}$（或$λ\small{C}$），居于最右上角，具有整个立方体中最强的表达能力。

|   系统\特征   |   $→$   |   $Π$   |   $ω$   |   $2$   |
| :-----------: | :-----: | :-----: | :-----: | :-----: |
| $λ\small{Πω}$ | $(*,*)$ | $(*,□)$ | $(□,□)$ | $(□,*)$ |

---

### 注解

1. nat：自然数。
